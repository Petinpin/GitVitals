# GitVitals - Monolithic Architecture

## ğŸ“ Project Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Client Browsers                            â”‚
â”‚            (Students, Instructors, Admins)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    HTTP/HTTPS
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  GitVitals Monolithic App                       â”‚
â”‚              Next.js 16.1.1 (Frontend + Backend)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Frontend Layer     â”‚        â”‚   Backend Layer      â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ â€¢ Pages              â”‚        â”‚ â€¢ API Routes         â”‚      â”‚
â”‚  â”‚   - Dashboard        â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â€¢ Business Logic     â”‚      â”‚
â”‚  â”‚   - Student Portal   â”‚        â”‚ â€¢ Authentication     â”‚      â”‚
â”‚  â”‚   - Instructor       â”‚        â”‚ â€¢ Validation         â”‚      â”‚
â”‚  â”‚   - Reports          â”‚        â”‚ â€¢ Authorization      â”‚      â”‚
â”‚  â”‚                      â”‚        â”‚                      â”‚      â”‚
â”‚  â”‚ â€¢ Components         â”‚        â”‚ â€¢ Middleware         â”‚      â”‚
â”‚  â”‚   - Forms            â”‚        â”‚ â€¢ Error Handling     â”‚      â”‚
â”‚  â”‚   - Charts           â”‚        â”‚                      â”‚      â”‚
â”‚  â”‚   - Tables           â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”‚   - Cards            â”‚                   â”‚                  â”‚
â”‚  â”‚                      â”‚                   â”‚                  â”‚
â”‚  â”‚ â€¢ State Management   â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   - React Hooks      â”‚        â”‚   Prisma ORM         â”‚      â”‚
â”‚  â”‚   - Context API      â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚                      â”‚        â”‚ â€¢ Data Models        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â€¢ Relations          â”‚      â”‚
â”‚             â”‚                    â”‚ â€¢ Migrations         â”‚      â”‚
â”‚             â”‚ Direct Calls       â”‚ â€¢ Query Builder      â”‚      â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                         SQL Queries
                                               â”‚
                                               â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   PostgreSQL Database        â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                            â”‚ â€¢ Users                      â”‚
                            â”‚ â€¢ Students                   â”‚
                            â”‚ â€¢ Patients                   â”‚
                            â”‚ â€¢ Vital Readings             â”‚
                            â”‚ â€¢ Correct Vitals             â”‚
                            â”‚ â€¢ Assessments                â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ³ Docker Environment

```
Your Machine (Windows/Mac/Linux)
â”‚
â”œâ”€â”€ Port 3000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚
â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Network: gitvitals-network          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    App Container (Node 20-Alpine)       â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ â€¢ Next.js (Development Mode)            â”‚     â”‚
â”‚  â”‚ â€¢ Hot Reload Enabled                    â”‚     â”‚
â”‚  â”‚ â€¢ Port: 3000                            â”‚     â”‚
â”‚  â”‚ â€¢ Volume: Source Code Mounted           â”‚     â”‚
â”‚  â”‚ â€¢ Status: Running                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                   â”‚                            â”‚
â”‚                   â”‚ postgresql://gitvitals:   â”‚
â”‚                   â”‚ gitvitals@postgres:5432   â”‚
â”‚                   â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Database Container (Postgres 16-Alpine)â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ â€¢ PostgreSQL 16                         â”‚     â”‚
â”‚  â”‚ â€¢ Port: 5432                           â”‚     â”‚
â”‚  â”‚ â€¢ Volume: postgres-data                 â”‚     â”‚
â”‚  â”‚ â€¢ Status: Healthy                       â”‚     â”‚
â”‚  â”‚ â€¢ User: gitvitals                       â”‚     â”‚
â”‚  â”‚ â€¢ Database: gitvitals                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Port 5432 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         (External PostgreSQL Access)
```

---

## ğŸ—„ï¸ Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PostgreSQL Database                       â”‚
â”‚                   (gitvitals database)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚ User (PK)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Student (PK) â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 1:1              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚ â”‚ id (UUID)   â”‚                  â”‚ id (UUID)    â”‚           â”‚
â”‚ â”‚ email       â”‚                  â”‚ userId (FK)  â”‚           â”‚
â”‚ â”‚ name        â”‚                  â”‚ studentId    â”‚           â”‚
â”‚ â”‚ role        â”‚                  â”‚ cohort       â”‚           â”‚
â”‚ â”‚ canvasId    â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚ â”‚ createdAt   â”‚                          â”‚                 â”‚
â”‚ â”‚ updatedAt   â”‚                          â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â–¼                 â”‚
â”‚       â–²                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚       â”‚                          â”‚ Patient (PK) â”‚           â”‚
â”‚       â”‚ 0:1 (optional link)      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ id (UUID)    â”‚           â”‚
â”‚                User as Patient   â”‚ studentId(FK)â”‚           â”‚
â”‚                                  â”‚ userId (FK?) â”‚           â”‚
â”‚                                  â”‚ name         â”‚           â”‚
â”‚                                  â”‚ relationship â”‚           â”‚
â”‚                                  â”‚ age          â”‚           â”‚
â”‚                                  â”‚ gender       â”‚           â”‚
â”‚                                  â”‚ isBaselineSetâ”‚           â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                           â”‚                 â”‚
â”‚                                   1:N     â”‚                 â”‚
â”‚                                           â–¼                 â”‚
â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                            â”‚ VitalReading (PK)        â”‚     â”‚
â”‚                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚                            â”‚ id (UUID)                â”‚     â”‚
â”‚                            â”‚ patientId (FK)           â”‚     â”‚
â”‚                            â”‚ studentId (FK)           â”‚     â”‚
â”‚                            â”‚ enteredById (FK User)    â”‚     â”‚
â”‚                            â”‚ enteredByRole (enum)     â”‚     â”‚
â”‚                            â”‚ readingNumber            â”‚     â”‚
â”‚                            â”‚ bloodPressure...         â”‚     â”‚
â”‚                            â”‚ heartRate                â”‚     â”‚
â”‚                            â”‚ temperature              â”‚     â”‚
â”‚                            â”‚ respiratoryRate          â”‚     â”‚
â”‚                            â”‚ oxygenSaturation         â”‚     â”‚
â”‚                            â”‚ submittedAt              â”‚     â”‚
â”‚                            â”‚ isCorrect                â”‚     â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ CorrectVitals (PK)                                   â”‚    â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ â”‚ id (UUID)                                            â”‚    â”‚
â”‚ â”‚ patientId (FK) - Unique (one set per patient)        â”‚    â”‚
â”‚ â”‚ bloodPressureSystolic, bloodPressureDiastolic        â”‚    â”‚
â”‚ â”‚ heartRate, temperature, respiratoryRate              â”‚    â”‚
â”‚ â”‚ oxygenSaturation                                     â”‚    â”‚
â”‚ â”‚ createdById (FK User: INSTRUCTOR)                    â”‚    â”‚
â”‚ â”‚ createdAt                                            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Notes:
- enteredByRole captures whether the reading was entered by a STUDENT or an INSTRUCTOR; enteredById references the User who entered it.
- Patient.userId is optional to allow a User to also be represented as a Patient.
- CorrectVitals are authored by an INSTRUCTOR and used to validate readings for the linked patient.

---

## ğŸ“Š Data Relationships

| Model | Purpose | Relations |
|-------|---------|-----------|
| **User** | Auth & roles | Student (1:1), Patient (0:1 as self), VitalReading (1:N as enteredBy), CorrectVitals (1:N as createdBy - INSTRUCTOR) |
| **Student** | Student profile | User (1:1), Patient (1:N), VitalReading (1:N) |
| **Patient** | Patient entity (can be a User) | Student (N:1), User (0:1), VitalReading (1:N), CorrectVitals (1:1) |
| **VitalReading** | Individual vital entry | Patient (N:1), Student (N:1), EnteredBy User (N:1; role recorded as STUDENT/INSTRUCTOR) |
| **CorrectVitals** | Baseline set by teacher | Patient (1:1), CreatedBy User (N:1; must be INSTRUCTOR) |

---

## ğŸš€ Quick Start

```bash
# Start Docker environment
docker compose up

# App runs at: http://localhost:3000
# Database at: localhost:5432
```

**Architecture Type:** Monolithic (All code in one app)  
**Deployment:** Docker containers on local machine  
**Database:** Separate PostgreSQL container (persistent data)
